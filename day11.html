<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 11 - 多輪對話 Agent 設計 | Prompt Mastery</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=IBM+Plex+Mono:wght@300;400;500&family=Noto+Serif+TC:wght@300;400;700;900&display=swap" rel="stylesheet">
<style>
:root{--white:#f5f2ed;--cream:#e8e3da;--ink:#1a1814;--warm-mid:#8b7355;--accent:#c9431f;--accent-light:#e8a882;--text-dim:#6b6358}
*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}body{background:var(--white);color:var(--ink);font-family:'IBM Plex Mono',monospace;line-height:1.6}
body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");pointer-events:none;z-index:9999;opacity:.6}
.header{border-bottom:2px solid var(--ink);padding:16px 48px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:var(--white);z-index:100}
.back-link{font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--text-dim);text-decoration:none;transition:color .2s}
.back-link:hover{color:var(--accent)}.header-title{font-family:'Playfair Display',serif;font-size:16px;font-weight:900;letter-spacing:.08em;text-transform:uppercase}
.day-badge{font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--accent);font-weight:500}
.hero{padding:80px 48px;border-bottom:2px solid var(--ink);max-width:1200px;margin:0 auto}
.lesson-meta{display:flex;gap:24px;margin-bottom:24px;font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--text-dim)}
.lesson-meta span::before{content:'//';margin-right:8px;opacity:.5}
.lesson-title{font-family:'Playfair Display',serif;font-size:clamp(40px,5vw,72px);font-weight:900;line-height:1;margin-bottom:32px;letter-spacing:-.02em}
.lesson-subtitle{font-family:'Noto Serif TC',serif;font-size:20px;line-height:1.6;color:var(--text-dim);max-width:800px}
.content{max-width:1200px;margin:0 auto;padding:64px 48px}.section{margin-bottom:80px}
.section-header{display:flex;align-items:center;gap:16px;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid var(--cream)}
.section-number{font-family:'Playfair Display',serif;font-size:48px;font-weight:900;color:var(--cream);line-height:1}
.section-title{font-family:'Playfair Display',serif;font-size:28px;font-weight:700}
.prose{font-family:'Noto Serif TC',serif;font-size:16px;line-height:1.9;margin-bottom:24px}.prose strong{color:var(--ink);font-weight:700}
.code-block{background:var(--ink);color:var(--accent-light);padding:32px;font-family:'IBM Plex Mono',monospace;font-size:14px;line-height:1.8;margin:32px 0;border-left:4px solid var(--accent);white-space:pre-wrap}
.code-block-header{font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--text-dim);margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--cream)}
.comparison{display:grid;grid-template-columns:1fr 1fr;gap:32px;margin:32px 0}
.comparison-item{border:2px solid var(--ink);padding:24px}.comparison-item.bad{border-color:var(--text-dim);opacity:.7}.comparison-item.good{border-color:var(--accent)}
.comparison-label{font-size:11px;letter-spacing:.15em;text-transform:uppercase;margin-bottom:16px;font-weight:500}
.comparison-item.bad .comparison-label{color:var(--text-dim)}.comparison-item.good .comparison-label{color:var(--accent)}
.comparison-text{font-family:'Noto Serif TC',serif;font-size:14px;line-height:1.7}
.highlight-box{background:var(--cream);padding:32px;margin:32px 0;border-left:4px solid var(--accent)}
.highlight-title{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;margin-bottom:12px}
.step-list{margin:32px 0}.step-item{display:flex;gap:20px;margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid var(--cream)}
.step-number{font-family:'Playfair Display',serif;font-size:32px;font-weight:900;color:var(--accent);min-width:48px;line-height:1}
.step-content{font-family:'Noto Serif TC',serif;font-size:15px;line-height:1.8}.step-content strong{display:block;margin-bottom:8px;font-size:16px}
.practice-box{background:var(--ink);color:var(--white);padding:48px;margin:64px 0}
.practice-label{font-size:11px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent-light);margin-bottom:16px}
.practice-title{font-family:'Playfair Display',serif;font-size:32px;font-weight:900;margin-bottom:24px}
.practice-desc{font-family:'Noto Serif TC',serif;font-size:16px;line-height:1.8;opacity:.9;margin-bottom:20px}
.quote-box{background:var(--cream);padding:40px;margin:40px 0;border-left:4px solid var(--accent)}
.quote-text{font-family:'Playfair Display',serif;font-size:24px;font-style:italic;line-height:1.5;margin-bottom:16px}
.quote-author{font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:var(--text-dim)}
.info-box{background:var(--white);border:2px solid var(--accent);padding:32px;margin:32px 0}
.info-box-title{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;color:var(--accent);margin-bottom:16px}
.info-box-content{font-family:'Noto Serif TC',serif;font-size:15px;line-height:1.8}
.checklist{background:var(--cream);padding:28px;margin:32px 0}.checklist-item{display:flex;gap:12px;align-items:start;margin-bottom:14px;font-family:'Noto Serif TC',serif;font-size:15px;line-height:1.7}
.checklist-item::before{content:'✓';color:var(--accent);font-weight:900;font-size:18px}
.dialog-box{background:var(--white);border:2px solid var(--ink);padding:24px;margin:32px 0}
.dialog-turn{margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--cream)}
.dialog-turn:last-child{border-bottom:none;margin-bottom:0}
.dialog-label{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--accent);margin-bottom:8px}
.dialog-text{font-family:'Noto Serif TC',serif;font-size:14px;line-height:1.7}
.state-box{background:var(--cream);padding:24px;margin:32px 0}
.state-title{font-family:'Playfair Display',serif;font-size:18px;font-weight:700;margin-bottom:16px}
.state-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(26,24,20,0.1)}
.state-key{font-size:12px;letter-spacing:.1em;text-transform:uppercase;color:var(--text-dim)}
.state-value{font-family:'Noto Serif TC',serif;font-size:14px}
.lesson-nav{display:flex;justify-content:space-between;padding:48px 0;border-top:2px solid var(--ink)}
.nav-link{display:flex;flex-direction:column;gap:8px;text-decoration:none;color:var(--ink);transition:all .2s}
.nav-link:hover{color:var(--accent)}.nav-label{font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--text-dim)}
.nav-title{font-family:'Playfair Display',serif;font-size:18px;font-weight:700}
.footer{border-top:2px solid var(--ink);background:var(--ink);color:var(--white);padding:32px 48px;text-align:center}
.footer-text{font-size:11px;letter-spacing:.1em;opacity:.4}
.warning-box{background:var(--ink);color:var(--white);padding:32px;margin:32px 0;border-left:4px solid var(--accent)}
.warning-title{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;margin-bottom:12px;color:var(--accent-light)}
.warning-content{font-family:'Noto Serif TC',serif;font-size:15px;line-height:1.8;opacity:.9}
@media (max-width:768px){.header{padding:16px 24px;flex-direction:column;gap:8px}.hero{padding:48px 24px}.content{padding:32px 24px}.comparison{grid-template-columns:1fr}.practice-box{padding:32px 24px}}
</style>
</head>
<body>
<header class="header">
<a href="prompt-mastery-20days.html" class="back-link">← 回到課程總覽</a>
<div class="header-title">Prompt Mastery</div>
<div class="day-badge">Day 11 / 20</div>
</header>

<section class="hero">
<div class="lesson-meta">
<span>Week 3</span>
<span>70 分鐘</span>
<span>Agent 設計</span>
</div>
<h1 class="lesson-title">多輪對話<br>Agent 設計</h1>
<p class="lesson-subtitle">
從今天開始進入 Week 3：Agent 設計。Agent 不是單次問答，而是能記住上下文、維持狀態、引導對話達成目標的智慧助理。今天學習如何設計「對話流程」、「狀態管理」、「目標導向」的多輪對話系統，從簡單的問卷調查到複雜的顧問式銷售。
</p>
</section>

<main class="content">

<section class="section">
<div class="section-header">
<div class="section-number">01</div>
<h2 class="section-title">什麼是多輪對話 Agent？</h2>
</div>

<div class="prose">
想像你走進一家咖啡店，店員問你：「想喝什麼？」你說「咖啡」，她繼續問「要熱的還是冰的？」「大杯還是中杯？」「要加糖嗎？」— 這是一個<strong>多輪對話</strong>，店員記住你前面的回答，逐步收集資訊，最終幫你完成訂單。
</div>

<div class="prose">
<strong>多輪對話 Agent 就是這樣的系統：</strong>它不是一次性回答問題，而是通過多輪互動，逐步理解需求、收集資訊、引導使用者達成目標。
</div>

<div class="comparison">
<div class="comparison-item bad">
<div class="comparison-label">單輪問答（不是 Agent）</div>
<div class="comparison-text">
<strong>使用者：</strong>「我想買筆電」<br>
<strong>AI：</strong>「這裡有 10 款筆電推薦：[列出清單]」<br><br>
<em>問題：</em>沒有追問預算、用途、偏好，直接給通用答案，不符合個人需求。
</div>
</div>
<div class="comparison-item good">
<div class="comparison-label">多輪對話 Agent</div>
<div class="comparison-text">
<strong>使用者：</strong>「我想買筆電」<br>
<strong>Agent：</strong>「好的！請問主要用途是什麼？」<br>
<strong>使用者：</strong>「寫程式和剪影片」<br>
<strong>Agent：</strong>「了解。預算大約多少呢？」<br>
<strong>使用者：</strong>「5 萬以內」<br>
<strong>Agent：</strong>「根據您的需求（開發+剪片，預算 5 萬），推薦這兩款...」
</div>
</div>
</comparison>

<div class="quote-box">
<div class="quote-text">
"好的對話不是一次給所有答案，而是一步步引導到最佳解。"
</div>
<div class="quote-author">
Agent 設計的核心哲學
</div>
</quote-box>

<div class="highlight-box">
<div class="highlight-title">核心洞察</div>
<div class="prose">
<strong>多輪對話的價值在於「逐步精準化」</strong>— 每一輪對話都收集更多資訊，讓 AI 能給出更精準的建議。這比一次性詢問所有資訊更自然、更友善、完成率更高。
</div>
</highlight-box>
</section>

<section class="section">
<div class="section-header">
<div class="section-number">02</div>
<h2 class="section-title">多輪對話的三大核心要素</h2>
</div>

<div class="prose">
設計一個好的多輪對話 Agent 需要處理三個核心挑戰：
</div>

<div class="step-list">
<div class="step-item">
<div class="step-number">01</div>
<div class="step-content">
<strong>對話流程（Conversation Flow）</strong><br>
定義對話的步驟和順序：先問什麼？再問什麼？什麼時候結束？<br><br>
<strong>範例：</strong>買筆電的流程可能是：確認需求 → 詢問預算 → 問使用場景 → 推薦選項 → 比較說明 → 確認決定
</div>
</div>

<div class="step-item">
<div class="step-number">02</div>
<div class="step-content">
<strong>狀態管理（State Management）</strong><br>
記住已經收集的資訊，避免重複詢問，並基於已知資訊決定下一步。<br><br>
<strong>範例：</strong>已知資訊 = {用途: "寫程式+剪片", 預算: "5萬", 品牌偏好: "未知"}<br>
下一步：詢問品牌偏好或直接推薦
</div>
</div>

<div class="step-item">
<div class="step-number">03</div>
<div class="step-content">
<strong>目標導向（Goal-Oriented）</strong><br>
每輪對話都要朝向明確目標前進，不能漫無目的聊天。<br><br>
<strong>範例：</strong>目標 = 幫使用者找到最適合的筆電並完成推薦<br>
每個問題都是為了更接近這個目標
</div>
</div>
</div>

<div class="info-box">
<div class="info-box-title">三要素的關係</div>
<div class="info-box-content">
• <strong>對話流程</strong>是地圖 — 告訴 Agent 要走哪條路<br>
• <strong>狀態管理</strong>是記憶 — 告訴 Agent 現在走到哪了<br>
• <strong>目標導向</strong>是指南針 — 告訴 Agent 要往哪裡去<br><br>
三者缺一不可。沒有流程，對話會亂；沒有狀態，會重複問；沒有目標，會偏離主題。
</div>
</info-box>
</section>

<section class="section">
<div class="section-header">
<div class="section-number">03</div>
<h2 class="section-title">設計對話流程：狀態機方法</h2>
</div>

<div class="prose">
最簡單有效的對話流程設計方法是<strong>狀態機（State Machine）</strong>— 把對話分成幾個「狀態」，定義每個狀態做什麼、如何轉換到下一個狀態。
</div>

<div class="code-block-header">狀態機對話流程範例：問卷調查 Agent</div>
<div class="code-block">你是一個問卷調查助理，目標是收集使用者對產品的意見。

【對話流程 - 狀態機設計】

狀態 1：開場歡迎
→ 說明：簡短介紹問卷目的和預計時間
→ 詢問：「方便的話，我們開始問卷調查嗎？」
→ 下一步：如果同意 → 狀態 2；如果拒絕 → 狀態結束

狀態 2：收集基本資訊
→ 詢問：「請問您使用我們產品多久了？」
→ 記錄：使用時長
→ 下一步：狀態 3

狀態 3：滿意度評分
→ 詢問：「整體來說，您對產品的滿意度是？（1-5 分）」
→ 記錄：滿意度分數
→ 下一步：狀態 4

狀態 4：深入了解
→ 條件判斷：
  - 如果分數 ≥ 4 → 問「最喜歡什麼功能？」
  - 如果分數 ≤ 2 → 問「最不滿意的地方是什麼？」
  - 如果分數 = 3 → 問「有什麼可以改進的建議？」
→ 記錄：具體意見
→ 下一步：狀態 5

狀態 5：結束感謝
→ 說明：「謝謝您的寶貴意見！」
→ 總結：重複確認收集到的關鍵資訊
→ 結束對話

【狀態追蹤】
在每輪對話後，內部記錄當前狀態和已收集資訊：
- 當前狀態：[狀態編號]
- 已收集資訊：{使用時長: X, 滿意度: Y, 意見: Z}

【對話規則】
1. 一次只問一個問題
2. 等待使用者回答後再進入下一狀態
3. 如果使用者答非所問，禮貌引導回主題
4. 如果使用者要求跳過，允許並進入下一狀態</div>

<div class="dialog-box">
<div class="dialog-turn">
<div class="dialog-label">Turn 1 - 狀態 1</div>
<div class="dialog-text">
<strong>Agent：</strong>您好！我們正在進行產品體驗調查，大約需要 2-3 分鐘。方便的話，我們現在開始嗎？
</div>
</div>

<div class="dialog-turn">
<div class="dialog-label">Turn 2 - 使用者回應</div>
<div class="dialog-text">
<strong>使用者：</strong>好啊
</div>
</div>

<div class="dialog-turn">
<div class="dialog-label">Turn 3 - 狀態 2</div>
<div class="dialog-text">
<strong>Agent：</strong>太好了！請問您使用我們的產品多久了呢？
</div>
</div>

<div class="dialog-turn">
<div class="dialog-label">Turn 4 - 使用者回應</div>
<div class="dialog-text">
<strong>使用者：</strong>大概三個月
</div>
</div>

<div class="dialog-turn">
<div class="dialog-label">Turn 5 - 狀態 3</div>
<div class="dialog-text">
<strong>Agent：</strong>了解。整體來說，您對產品的滿意度如何？請給 1-5 分（5 分最滿意）
</div>
</div>
</dialog-box>

<div class="state-box">
<div class="state-title">內部狀態追蹤（使用者看不到）</div>
<div class="state-item">
<div class="state-key">當前狀態</div>
<div class="state-value">狀態 3（等待滿意度評分）</div>
</div>
<div class="state-item">
<div class="state-key">使用時長</div>
<div class="state-value">3 個月</div>
</div>
<div class="state-item">
<div class="state-key">滿意度</div>
<div class="state-value">待收集</div>
</div>
<div class="state-item">
<div class="state-key">具體意見</div>
<div class="state-value">待收集</div>
</div>
</div>

<div class="highlight-box">
<div class="highlight-title">狀態機的好處</div>
<div class="prose">
• <strong>清晰可控：</strong>每個狀態做什麼很明確，不會亂<br>
• <strong>易於測試：</strong>可以逐個狀態測試對話品質<br>
• <strong>容易修改：</strong>要調整流程，只需改變狀態轉換邏輯<br>
• <strong>可視覺化：</strong>可以畫成流程圖，團隊容易理解
</div>
</div>
</section>

<section class="section">
<div class="section-header">
<div class="section-number">04</div>
<h2 class="section-title">狀態管理：記住對話歷史</h2>
</div>

<div class="prose">
狀態管理是多輪對話的「記憶系統」。Agent 需要記住：
</div>

<div class="step-list">
<div class="step-item">
<div class="step-number">01</div>
<div class="step-content">
<strong>已收集的資訊</strong><br>
使用者已經告訴你什麼？預算、偏好、限制等等
</div>
</div>

<div class="step-item">
<div class="step-number">02</div>
<div class="step-content">
<strong>對話進度</strong><br>
現在在流程的哪一步？已經問過什麼？還要問什麼？
</div>
</div>

<div class="step-item">
<div class="step-number">03</div>
<div class="step-content">
<strong>使用者偏好</strong><br>
使用者表現出的傾向（喜歡詳細說明？還是簡短回答？）
</div>
</div>

<div class="step-item">
<div class="step-number">04</div>
<div class="step-content">
<strong>待確認事項</strong><br>
有什麼資訊不確定，需要再次確認？
</div>
</div>
</div>

<div class="code-block-header">狀態管理 Prompt 範例</div>
<div class="code-block">【狀態管理指令】

在每輪對話中，維護以下狀態資訊：

{
  "對話階段": "當前在哪個步驟",
  "已收集資訊": {
    "必要資訊": {
      "預算": "值或null",
      "用途": "值或null",
      "偏好": "值或null"
    },
    "補充資訊": {
      "品牌偏好": "值或null",
      "顏色偏好": "值或null"
    }
  },
  "待確認": ["列出需要確認的事項"],
  "下一步行動": "應該做什麼"
}

【狀態更新規則】
1. 每次使用者回答後，更新對應欄位
2. 檢查必要資訊是否齊全
3. 如果齊全 → 進入推薦階段
4. 如果不齊全 → 詢問缺少的資訊
5. 如果資訊有矛盾 → 詢問澄清

【範例狀態演進】

初始狀態：
{
  "對話階段": "需求探索",
  "已收集資訊": {
    "必要資訊": {
      "預算": null,
      "用途": null,
      "偏好": null
    }
  }
}

第一輪後：
使用者說「我想買筆電，用來寫程式」
{
  "對話階段": "需求探索",
  "已收集資訊": {
    "必要資訊": {
      "預算": null,
      "用途": "寫程式",
      "偏好": null
    }
  },
  "下一步行動": "詢問預算"
}

第二輪後：
使用者說「預算 5 萬左右」
{
  "對話階段": "需求探索",
  "已收集資訊": {
    "必要資訊": {
      "預算": "5萬",
      "用途": "寫程式",
      "偏好": null
    }
  },
  "下一步行動": "詢問作業系統或品牌偏好"
}</div>

<div class="warning-box">
<div class="warning-title">⚠️ 常見錯誤：重複詢問</div>
<div class="warning-content">
<strong>問題：</strong>使用者說過預算，但 AI 又問一次「請問預算多少？」<br><br>
<strong>原因：</strong>狀態沒有正確更新或 AI 沒有檢查已收集資訊<br><br>
<strong>解決：</strong>在每輪對話前，明確要求 AI「檢查已收集資訊，不要重複詢問已知的事」<br><br>
<strong>Prompt 添加：</strong><br>
「在提問前，先檢查 [已收集資訊]。如果使用者已經提供過該資訊，直接使用，不要再問。」
</div>
</warning-box>
</section>

<section class="section">
<div class="section-header">
<div class="section-number">05</div>
<h2 class="section-title">目標導向對話設計</h2>
</div>

<div class="prose">
好的 Agent 不只是收集資訊，而是<strong>引導使用者達成目標</strong>。目標可能是：完成購買、解決問題、做出決策、完成任務。
</div>

<div class="code-block-header">目標導向 Agent Prompt</div>
<div class="code-block">你是一個目標導向的對話助理。

【你的目標】
幫助使用者 [具體目標，例如：找到最適合的筆電並完成推薦]

【成功標準】
對話成功的標準是：
1. 收集到所有必要資訊（預算、用途、偏好）
2. 提供至少 2 個符合需求的選項
3. 說明每個選項的優缺點
4. 使用者明確表示滿意或決定

【對話策略】
為了達成目標，你應該：
1. 優先詢問影響最大的資訊（預算 > 用途 > 偏好）
2. 每個問題都要推進目標，避免無關閒聊
3. 如果使用者偏離主題，禮貌引導回來
4. 適時總結已知資訊，確認理解正確
5. 當資訊足夠時，主動推進到決策階段

【引導技巧】
• 如果使用者猶豫 → 提供建議或縮小選擇範圍
• 如果使用者不確定 → 問更具體的問題幫助釐清
• 如果使用者要求太多 → 說明權衡和優先級
• 如果接近達成目標 → 總結並確認下一步

【避免】
✗ 漫無目的的閒聊
✗ 提供過多選項讓使用者overwhelmed
✗ 在沒收集足夠資訊前就推薦
✗ 忘記對話的最終目標是什麼</div>

<div class="checklist">
<div class="checklist-item">
<strong>每輪對話都問自己：</strong>這個問題/回答有讓我們更接近目標嗎？
</div>
<div class="checklist-item">
<strong>設定里程碑：</strong>把大目標拆成小階段，每達成一個階段就明確告知使用者
</div>
<div class="checklist-item">
<strong>適時推進：</strong>當資訊足夠時，不要繼續問問題，該推薦就推薦
</div>
<div class="checklist-item">
<strong>允許後退：</strong>如果使用者想改變前面的答案，允許並更新狀態
</div>
</checklist>
</section>

<section class="section">
<div class="section-header">
<div class="section-number">06</div>
<h2 class="section-title">完整案例：個人化學習路徑 Agent</h2>
</div>

<div class="prose">
讓我們設計一個完整的多輪對話 Agent：幫助使用者規劃學習路徑。
</div>

<div class="code-block-header">學習路徑規劃 Agent 完整 Prompt</div>
<div class="code-block">你是一位學習路徑規劃顧問，幫助使用者設計個人化的學習計劃。

━━━ 對話目標 ━━━
幫助使用者制定一個實際可執行的學習計劃，包含：
- 明確的學習目標
- 合理的時間安排
- 具體的學習資源
- 可追蹤的進度指標

━━━ 對話流程 ━━━

階段 1：探索動機（1-2 輪）
→ 詢問：想學什麼？為什麼想學？
→ 目的：了解真實動機，避免三分鐘熱度
→ 下一步：如果動機明確 → 階段 2

階段 2：評估現況（2-3 輪）
→ 詢問：目前程度？過去學習經驗？
→ 詢問：每週可投入多少時間？
→ 目的：設定符合現實的目標
→ 下一步：階段 3

階段 3：設定目標（1-2 輪）
→ 詢問：多久內想達到什麼程度？
→ 驗證：目標是否 SMART（具體、可衡量、可達成、相關、有時限）
→ 如果目標不切實際 → 協助調整
→ 下一步：階段 4

階段 4：設計路徑（Agent 主導）
→ 基於收集的資訊，設計學習路徑
→ 包含：分階段目標、推薦資源、時間分配
→ 提供：2-3 個不同強度的方案供選擇
→ 下一步：階段 5

階段 5：確認與調整（1-2 輪）
→ 詢問：對提供的計劃有疑問嗎？
→ 根據反饋調整
→ 最終確認並提供可下載/儲存的計劃

━━━ 狀態管理 ━━━
{
  "階段": "1-5",
  "收集資訊": {
    "學習主題": "",
    "動機": "",
    "目前程度": "",
    "可投入時間": "",
    "目標時限": "",
    "偏好學習方式": ""
  },
  "待確認": [],
  "下一步": ""
}

━━━ 對話原則 ━━━
1. 一次只問 1-2 個問題，不要overwhelm使用者
2. 用同理心回應，鼓勵而非批判
3. 如果使用者的目標不切實際，溫和地說明並建議調整
4. 提供具體的資源和方法，不要只給抽象建議
5. 適時總結已知資訊，讓使用者確認理解正確

━━━ 範例對話 ━━━
（僅供參考，實際對話要根據使用者回應調整）

Agent: 「你好！我來幫你規劃學習路徑。想請問，你想學什麼呢？」

使用者: 「我想學 Python」

Agent: 「很好的選擇！可以分享一下，是什麼讓你想學 Python 嗎？
比如工作需要、個人興趣、或是想轉職？」

使用者: 「想轉職當資料分析師」

Agent: 「了解！那目前有寫程式的經驗嗎？或是完全從零開始？」

[繼續收集資訊...]</code-block>

<div class="highlight-box">
<div class="highlight-title">這個案例展示了什麼？</div>
<div class="prose">
• <strong>清晰的階段劃分：</strong>5 個階段，每個階段有明確目的<br>
• <strong>完整的狀態追蹤：</strong>知道現在在哪、收集了什麼、下一步做什麼<br>
• <strong>目標導向：</strong>每個問題都是為了最終提供可執行的學習計劃<br>
• <strong>同理心設計：</strong>溫和引導、鼓勵而非批判<br>
• <strong>彈性調整：</strong>允許使用者修改目標和計劃
</div>
</div>
</section>

<div class="practice-box">
<div class="practice-label">今日 Side Project</div>
<h2 class="practice-title">設計你的多輪對話 Agent</h2>

<div class="practice-desc">
<strong>第一步：選擇場景（20 分鐘）</strong><br>
選擇一個你需要的多輪對話場景：<br>
• 產品推薦（筆電、手機、課程等）<br>
• 諮詢服務（健康、財務、職涯等）<br>
• 問卷調查（市場研究、使用者回饋）<br>
• 任務引導（學習計劃、旅遊規劃等）<br><br>

明確定義：目標是什麼？成功的標準是什麼？<br><br>

<strong>第二步：設計對話流程（40 分鐘）</strong><br>
使用狀態機方法，設計 3-5 個階段：<br>
1. 每個階段做什麼？<br>
2. 詢問什麼問題？<br>
3. 收集什麼資訊？<br>
4. 如何轉換到下一階段？<br>
5. 什麼條件下可以跳過或回退？<br><br>

畫出流程圖（手繪或用工具都可以）<br><br>

<strong>第三步：定義狀態管理（20 分鐘）</strong><br>
列出需要追蹤的狀態：<br>
• 必要資訊：一定要收集的<br>
• 補充資訊：有更好，沒有也能推進<br>
• 對話進度：現在在哪個階段<br>
• 待確認事項：有什麼不確定需要再問<br><br>

<strong>第四步：撰寫完整 Prompt（40 分鐘）</strong><br>
整合流程和狀態，寫成完整 Agent prompt，包含：<br>
• 角色定義<br>
• 對話目標<br>
• 流程階段<br>
• 狀態管理<br>
• 對話原則<br>
• 範例對話<br><br>

<strong>第五步：測試與優化（30 分鐘）</strong><br>
模擬 3 種不同的使用者：<br>
1. 配合型（回答完整清楚）<br>
2. 簡短型（只回答最少資訊）<br>
3. 偏離型（容易離題或改變想法）<br><br>

測試 Agent 能否在這三種情況下都達成目標。<br><br>

<strong>完成標準：</strong><br>
Agent 能在 5-10 輪對話內達成目標，且使用者體驗流暢不重複。
</div>
</div>

<nav class="lesson-nav">
<a href="day10.html" class="nav-link">
<span class="nav-label">← 上一課</span>
<span class="nav-title">Day 10: 品牌文案生成系統</span>
</a>
<a href="day12.html" class="nav-link" style="text-align: right;">
<span class="nav-label">下一課 →</span>
<span class="nav-title">Day 12: 個人助理 Agent</span>
</a>
</nav>

</main>

<footer class="footer">
<div class="footer-text">
Prompt Mastery — 20-Day Intensive Course — 2026
</div>
</footer>

</body>
</html>