<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 06 - 設計預約系統對話流程 | Prompt Mastery</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=IBM+Plex+Mono:wght@300;400;500&family=Noto+Serif+TC:wght@300;400;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --white: #f5f2ed;
    --cream: #e8e3da;
    --ink: #1a1814;
    --warm-mid: #8b7355;
    --accent: #c9431f;
    --accent-light: #e8a882;
    --text-dim: #6b6358;
    --success: #2d5016;
    --warning: #8b4513;
  }

  * { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
  }
  
  html { 
    scroll-behavior: smooth; 
  }
  
  body { 
    background: var(--white); 
    color: var(--ink); 
    font-family: 'IBM Plex Mono', monospace; 
    line-height: 1.6; 
  }
  
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 9999;
    opacity: 0.6;
  }

  .header {
    border-bottom: 2px solid var(--ink);
    padding: 16px 48px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    background: var(--white);
    z-index: 100;
  }

  .back-link {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-dim);
    text-decoration: none;
    transition: color 0.2s;
  }

  .back-link:hover { 
    color: var(--accent); 
  }

  .header-title {
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 900;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  .day-badge {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--accent);
    font-weight: 500;
  }

  .hero {
    padding: 80px 48px;
    border-bottom: 2px solid var(--ink);
    max-width: 1200px;
    margin: 0 auto;
  }

  .lesson-meta {
    display: flex;
    gap: 24px;
    margin-bottom: 24px;
    font-size: 11px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-dim);
  }

  .lesson-meta span::before {
    content: '//';
    margin-right: 8px;
    opacity: 0.5;
  }

  .lesson-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(40px, 5vw, 72px);
    font-weight: 900;
    line-height: 1;
    margin-bottom: 32px;
    letter-spacing: -0.02em;
  }

  .lesson-subtitle {
    font-family: 'Noto Serif TC', serif;
    font-size: 20px;
    line-height: 1.6;
    color: var(--text-dim);
    max-width: 800px;
  }

  .content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 64px 48px;
  }

  .section {
    margin-bottom: 80px;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 32px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--cream);
  }

  .section-number {
    font-family: 'Playfair Display', serif;
    font-size: 48px;
    font-weight: 900;
    color: var(--cream);
    line-height: 1;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 700;
  }

  .prose {
    font-family: 'Noto Serif TC', serif;
    font-size: 16px;
    line-height: 1.9;
    margin-bottom: 24px;
  }

  .prose strong {
    color: var(--ink);
    font-weight: 700;
  }

  .code-block {
    background: var(--ink);
    color: var(--accent-light);
    padding: 32px;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 14px;
    line-height: 1.8;
    margin: 32px 0;
    border-left: 4px solid var(--accent);
    white-space: pre-wrap;
    overflow-x: auto;
  }

  .code-block-header {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-dim);
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--cream);
  }

  .comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    margin: 32px 0;
  }

  .comparison-item {
    border: 2px solid var(--ink);
    padding: 24px;
  }

  .comparison-item.bad {
    border-color: var(--text-dim);
    opacity: 0.7;
  }

  .comparison-item.good {
    border-color: var(--accent);
  }

  .comparison-label {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 16px;
    font-weight: 500;
  }

  .comparison-item.bad .comparison-label {
    color: var(--text-dim);
  }

  .comparison-item.good .comparison-label {
    color: var(--accent);
  }

  .comparison-text {
    font-family: 'Noto Serif TC', serif;
    font-size: 14px;
    line-height: 1.7;
  }

  .highlight-box {
    background: var(--cream);
    padding: 32px;
    margin: 32px 0;
    border-left: 4px solid var(--accent);
  }

  .highlight-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 12px;
  }

  .step-list {
    margin: 32px 0;
  }

  .step-item {
    display: flex;
    gap: 20px;
    margin-bottom: 24px;
    padding-bottom: 24px;
    border-bottom: 1px solid var(--cream);
  }

  .step-number {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 900;
    color: var(--accent);
    min-width: 48px;
    line-height: 1;
  }

  .step-content {
    font-family: 'Noto Serif TC', serif;
    font-size: 15px;
    line-height: 1.8;
  }

  .step-content strong {
    display: block;
    margin-bottom: 8px;
    font-size: 16px;
  }

  .conversation-demo {
    background: var(--white);
    border: 2px solid var(--ink);
    padding: 32px;
    margin: 32px 0;
  }

  .conversation-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 2px solid var(--cream);
  }

  .conversation-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
  }

  .conversation-tag {
    font-size: 10px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--accent);
    background: var(--cream);
    padding: 6px 14px;
  }

  .message {
    margin-bottom: 20px;
    padding: 16px 20px;
    border-radius: 4px;
  }

  .message-user {
    background: var(--cream);
    border-left: 3px solid var(--warm-mid);
  }

  .message-ai {
    background: rgba(201, 67, 31, 0.05);
    border-left: 3px solid var(--accent);
  }

  .message-label {
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-dim);
    margin-bottom: 8px;
  }

  .message-content {
    font-family: 'Noto Serif TC', serif;
    font-size: 14px;
    line-height: 1.7;
  }

  .message-annotation {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--cream);
    font-size: 12px;
    color: var(--text-dim);
    font-style: italic;
  }

  .flowchart {
    background: var(--cream);
    padding: 40px;
    margin: 32px 0;
  }

  .flowchart-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 24px;
    text-align: center;
  }

  .flow-steps {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .flow-step {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .flow-step-num {
    background: var(--ink);
    color: var(--white);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 900;
    flex-shrink: 0;
  }

  .flow-step-content {
    background: var(--white);
    padding: 16px 20px;
    flex: 1;
    border-left: 3px solid var(--accent);
  }

  .flow-step-title {
    font-weight: 700;
    margin-bottom: 4px;
  }

  .flow-step-desc {
    font-size: 13px;
    color: var(--text-dim);
  }

  .flow-arrow {
    text-align: center;
    color: var(--accent);
    font-size: 24px;
    margin: -8px 0;
  }

  .state-machine {
    background: var(--white);
    border: 2px solid var(--ink);
    padding: 32px;
    margin: 32px 0;
  }

  .state-machine-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 24px;
  }

  .states-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-bottom: 24px;
  }

  .state-card {
    background: var(--cream);
    padding: 20px;
    border: 2px solid transparent;
    transition: all 0.2s;
  }

  .state-card.active {
    border-color: var(--accent);
    background: var(--white);
  }

  .state-name {
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .state-desc {
    font-size: 12px;
    line-height: 1.6;
    color: var(--text-dim);
  }

  .transitions {
    background: var(--cream);
    padding: 20px;
  }

  .transition-label {
    font-size: 11px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-dim);
    margin-bottom: 12px;
  }

  .transition-item {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    margin-bottom: 8px;
    padding-left: 20px;
    border-left: 2px solid var(--accent);
  }

  .checklist {
    background: var(--cream);
    padding: 28px;
    margin: 32px 0;
  }

  .checklist-item {
    display: flex;
    gap: 12px;
    align-items: start;
    margin-bottom: 14px;
    font-family: 'Noto Serif TC', serif;
    font-size: 15px;
    line-height: 1.7;
  }

  .checklist-item::before {
    content: '✓';
    color: var(--accent);
    font-weight: 900;
    font-size: 18px;
  }

  .practice-box {
    background: var(--ink);
    color: var(--white);
    padding: 48px;
    margin: 64px 0;
  }

  .practice-label {
    font-size: 11px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--accent-light);
    margin-bottom: 16px;
  }

  .practice-title {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 900;
    margin-bottom: 24px;
  }

  .practice-desc {
    font-family: 'Noto Serif TC', serif;
    font-size: 16px;
    line-height: 1.8;
    opacity: 0.9;
    margin-bottom: 20px;
  }

  .quote-box {
    background: var(--cream);
    padding: 40px;
    margin: 40px 0;
    border-left: 4px solid var(--accent);
  }

  .quote-text {
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    font-style: italic;
    line-height: 1.5;
    margin-bottom: 16px;
  }

  .quote-author {
    font-size: 12px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-dim);
  }

  .info-box {
    background: var(--white);
    border: 2px solid var(--accent);
    padding: 32px;
    margin: 32px 0;
  }

  .info-box-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 16px;
  }

  .info-box-content {
    font-family: 'Noto Serif TC', serif;
    font-size: 15px;
    line-height: 1.8;
  }

  .warning-box {
    background: var(--ink);
    color: var(--white);
    padding: 32px;
    margin: 32px 0;
    border-left: 4px solid var(--warning);
  }

  .warning-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--accent-light);
  }

  .warning-content {
    font-family: 'Noto Serif TC', serif;
    font-size: 15px;
    line-height: 1.8;
    opacity: 0.9;
  }

  .data-table {
    width: 100%;
    border-collapse: collapse;
    margin: 32px 0;
    background: var(--white);
  }

  .data-table th {
    background: var(--ink);
    color: var(--white);
    padding: 16px;
    text-align: left;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .data-table td {
    padding: 16px;
    border-bottom: 1px solid var(--cream);
    font-family: 'Noto Serif TC', serif;
    font-size: 14px;
    line-height: 1.7;
  }

  .data-table tr:hover {
    background: var(--cream);
  }

  .example-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
    margin: 32px 0;
  }

  .example-card {
    background: var(--white);
    border: 2px solid var(--ink);
    padding: 28px;
  }

  .example-header {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 16px;
  }

  .example-content {
    font-family: 'Noto Serif TC', serif;
    font-size: 14px;
    line-height: 1.8;
  }

  .lesson-nav {
    display: flex;
    justify-content: space-between;
    padding: 48px 0;
    border-top: 2px solid var(--ink);
  }

  .nav-link {
    display: flex;
    flex-direction: column;
    gap: 8px;
    text-decoration: none;
    color: var(--ink);
    transition: all 0.2s;
  }

  .nav-link:hover {
    color: var(--accent);
  }

  .nav-label {
    font-size: 11px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-dim);
  }

  .nav-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
  }

  .footer {
    border-top: 2px solid var(--ink);
    background: var(--ink);
    color: var(--white);
    padding: 32px 48px;
    text-align: center;
  }

  .footer-text {
    font-size: 11px;
    letter-spacing: 0.1em;
    opacity: 0.4;
  }

  .technique-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 24px;
    margin: 32px 0;
  }

  .technique-card {
    background: var(--cream);
    padding: 24px;
    border: 2px solid transparent;
  }

  .technique-card:hover {
    border-color: var(--accent);
  }

  .technique-title {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 12px;
  }

  .technique-desc {
    font-family: 'Noto Serif TC', serif;
    font-size: 14px;
    line-height: 1.7;
    margin-bottom: 16px;
  }

  .technique-example {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    background: var(--white);
    padding: 12px;
    border-left: 3px solid var(--accent);
  }

  @media (max-width: 768px) {
    .header { 
      padding: 16px 24px; 
      flex-direction: column; 
      gap: 8px; 
    }
    
    .hero { 
      padding: 48px 24px; 
    }
    
    .content { 
      padding: 32px 24px; 
    }
    
    .comparison,
    .states-grid,
    .technique-grid { 
      grid-template-columns: 1fr; 
    }
    
    .practice-box { 
      padding: 32px 24px; 
    }
  }
</style>
</head>
<body>

<header class="header">
  <a href="index.html" class="back-link">← 回到課程總覽</a>
  <div class="header-title">Prompt Mastery</div>
  <div class="day-badge">Day 06 / 20</div>
</header>

<section class="hero">
  <div class="lesson-meta">
    <span>Week 2</span>
    <span>60 分鐘</span>
    <span>實戰應用</span>
  </div>
  <h1 class="lesson-title">設計預約系統的<br>對話流程</h1>
  <p class="lesson-subtitle">
    多輪對話設計是 prompt 工程從「聊天技巧」升級到「系統設計」的關鍵一步。今天我們設計一個完整的預約系統對話流程：如何引導用戶提供必要資訊、如何處理模糊或不完整的輸入、如何確認預約並生成確認訊息。這個技巧可以應用到任何需要收集結構化資訊的場景。
  </p>
</section>

<main class="content">
  
  <!-- 第一部分：什麼是對話流程設計？ -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">01</div>
      <h2 class="section-title">什麼是對話流程設計？</h2>
    </div>
    
    <div class="prose">
      想像你走進一家餐廳想訂位。服務員不會一次問你所有問題，而是<strong>一步一步引導</strong>你：「幾位？」「什麼時候？」「有什麼特殊需求嗎？」。這種有節奏、有邏輯的對話流程，就是我們今天要學習設計的東西。
    </div>

    <div class="prose">
      <strong>對話流程設計（Conversation Flow Design）</strong>是指：設計 AI 如何通過多輪對話，逐步收集資訊、完成任務的過程。這不是隨機聊天，而是<strong>有目標、有結構、可預測</strong>的系統化對話。
    </div>

    <div class="quote-box">
      <div class="quote-text">
        "好的對話設計，就像一段精心編排的舞蹈 — 每個步驟都有目的，節奏流暢自然。"
      </div>
      <div class="quote-author">
        對話設計的核心哲學
      </div>
    </div>

    <div class="comparison">
      <div class="comparison-item bad">
        <div class="comparison-label">❌ 沒有流程設計</div>
        <div class="comparison-text">
          <strong>AI：</strong>「您好！請問您要預約嗎？請告訴我日期、時間、人數、聯絡方式和特殊需求。」<br><br>
          <strong>問題：</strong><br>
          • 一次問太多問題，用戶會困惑<br>
          • 用戶可能漏掉某些資訊<br>
          • 如果用戶只回答部分，AI 不知道怎麼處理<br>
          • 感覺像在填表單，不像對話
        </div>
      </div>
      <div class="comparison-item good">
        <div class="comparison-label">✓ 有流程設計</div>
        <div class="comparison-text">
          <strong>AI：</strong>「您好！我是預約助理 Mia。請問您想預約幾位？」<br>
          <strong>用戶：</strong>「4 位」<br>
          <strong>AI：</strong>「好的，4 位。請問您希望什麼時候用餐呢？」<br>
          <strong>用戶：</strong>「這週六晚上 7 點」<br>
          <strong>AI：</strong>「週六 2/17 晚上 7:00，讓我查看一下... 這個時段已被預訂，您方便 7:30 或 8:00 嗎？」<br><br>
          <strong>優點：</strong><br>
          • 每次只問一個問題，清晰易答<br>
          • 漸進式收集資訊，降低認知負擔<br>
          • 能即時回饋和處理問題<br>
          • 對話自然流暢
        </div>
      </div>
    </div>

    <div class="highlight-box">
      <div class="highlight-title">核心洞察</div>
      <div class="prose">
        對話流程設計的本質是<strong>把一個複雜任務拆解成一系列簡單的步驟</strong>，然後用自然的對話方式引導用戶完成每個步驟。關鍵不是「收集資訊」，而是「引導體驗」。
      </div>
    </div>
  </section>

  <!-- 第二部分：對話流程的核心要素 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">02</div>
      <h2 class="section-title">對話流程的五大核心要素</h2>
    </div>

    <div class="prose">
      一個完整的對話流程包含五個核心要素，每個都不可或缺。
    </div>

    <div class="step-list">
      <div class="step-item">
        <div class="step-number">01</div>
        <div class="step-content">
          <strong>狀態管理（State Management）</strong><br>
          AI 需要「記住」當前處於對話的哪個階段，已經收集了哪些資訊，還缺少什麼。就像服務員記住你已經說過人數，不會重複問。<br><br>
          <em>範例：</em>目前狀態 = 「已知人數(4)，正在詢問日期」
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">02</div>
        <div class="step-content">
          <strong>資訊收集順序（Information Flow）</strong><br>
          決定先問什麼、後問什麼。順序會影響對話的流暢度。通常從「最關鍵」或「最容易回答」的問題開始。<br><br>
          <em>範例：</em>人數 → 日期時間 → 聯絡方式 → 特殊需求（從必要到可選）
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">03</div>
        <div class="step-content">
          <strong>錯誤處理（Error Handling）</strong><br>
          當用戶回答不清楚、或提供的資訊無效時，AI 該如何反應？好的錯誤處理不會讓用戶覺得「我做錯了」，而是溫和地引導修正。<br><br>
          <em>範例：</em>用戶說「明天」但沒說時間 → AI：「好的，明天幾點方便呢？」
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">04</div>
        <div class="step-content">
          <strong>確認機制（Confirmation）</strong><br>
          在完成任務前，重述所有收集到的資訊，讓用戶確認。這是防止錯誤的最後一道防線。<br><br>
          <em>範例：</em>「讓我確認：2/17 週六晚上 7:30，4 位，聯絡電話 0912-345-678，對嗎？」
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">05</div>
        <div class="step-content">
          <strong>完成與回饋（Completion & Feedback）</strong><br>
          任務完成後，給予明確的成功訊息和下一步指示。讓用戶知道「完成了」，並知道接下來會發生什麼。<br><br>
          <em>範例：</em>「預約完成！我們已發送確認簡訊到您的手機。期待週六見！」
        </div>
      </div>
    </div>

    <div class="flowchart">
      <div class="flowchart-title">標準預約流程圖</div>
      <div class="flow-steps">
        <div class="flow-step">
          <div class="flow-step-num">1</div>
          <div class="flow-step-content">
            <div class="flow-step-title">問候 & 說明</div>
            <div class="flow-step-desc">友好問候，簡述可以幫什麼</div>
          </div>
        </div>
        <div class="flow-arrow">↓</div>
        <div class="flow-step">
          <div class="flow-step-num">2</div>
          <div class="flow-step-content">
            <div class="flow-step-title">收集必要資訊</div>
            <div class="flow-step-desc">人數 → 日期 → 時間 → 聯絡方式</div>
          </div>
        </div>
        <div class="flow-arrow">↓</div>
        <div class="flow-step">
          <div class="flow-step-num">3</div>
          <div class="flow-step-content">
            <div class="flow-step-title">檢查可用性</div>
            <div class="flow-step-desc">查詢該時段是否可預約</div>
          </div>
        </div>
        <div class="flow-arrow">↓</div>
        <div class="flow-step">
          <div class="flow-step-num">4</div>
          <div class="flow-step-content">
            <div class="flow-step-title">收集可選資訊</div>
            <div class="flow-step-desc">特殊需求、備註等</div>
          </div>
        </div>
        <div class="flow-arrow">↓</div>
        <div class="flow-step">
          <div class="flow-step-num">5</div>
          <div class="flow-step-content">
            <div class="flow-step-title">確認總結</div>
            <div class="flow-step-desc">重述所有資訊，請用戶確認</div>
          </div>
        </div>
        <div class="flow-arrow">↓</div>
        <div class="flow-step">
          <div class="flow-step-num">6</div>
          <div class="flow-step-content">
            <div class="flow-step-title">完成 & 回饋</div>
            <div class="flow-step-desc">生成確認單，說明下一步</div>
          </div>
        </div>
      </div>
    </flowchart>
  </section>

  <!-- 第三部分：完整的預約系統 System Prompt -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">03</div>
      <h2 class="section-title">完整的預約系統 System Prompt</h2>
    </div>

    <div class="prose">
      現在讓我們設計一個完整的預約系統 System Prompt，包含所有必要的邏輯和規則。
    </div>

    <div class="code-block-header">餐廳預約系統 — 完整 System Prompt</div>
    <div class="code-block">你是「Mia」，一位專業且親切的餐廳預約助理。

━━━ 你的任務 ━━━
協助客人完成餐廳預約，收集必要資訊，
確認預約，並生成確認單。

━━━ 預約流程（必須依序執行）━━━

步驟 1：問候
「您好！我是預約助理 Mia，很高興為您服務。
請問您想預約幾位用餐呢？」

步驟 2：收集人數
等待用戶回答人數
如果用戶沒說清楚，追問：「請問是幾位用餐呢？」

步驟 3：收集日期和時間
「好的，[N] 位。請問您希望什麼時候用餐呢？」
接受的格式：
- 「明天晚上 7 點」
- 「這週六 19:00」
- 「2/17 晚餐時間」

如果只說日期沒說時間，追問時間
如果只說時間沒說日期，追問日期

步驟 4：檢查可用性
收到完整日期時間後，檢查是否可預約：

【可用時段判斷規則】
午餐：11:30-14:00
晚餐：17:30-21:00
週一公休

如果時段已滿，提供替代選項：
「很抱歉，[原時間] 已客滿。
您方便 [替代時間 1] 或 [替代時間 2] 嗎？」

步驟 5：收集聯絡方式
「太好了，[日期] [時間] 有位置！
請問您的聯絡電話是？」

驗證電話格式（台灣手機 10 碼）
如果格式錯誤，溫和提醒

步驟 6：詢問特殊需求
「請問有什麼特殊需求嗎？
例如：兒童座椅、慶生需求、飲食限制等。
如果沒有，直接說『沒有』即可。」

步驟 7：確認總結
「讓我確認一下預約資訊：
━━━━━━━━━━
用餐人數：[N] 位
日期時間：[日期] [時間]
聯絡電話：[電話]
特殊需求：[需求或「無」]
━━━━━━━━━━
以上資訊正確嗎？」

步驟 8：完成預約
確認無誤後，生成確認單：

「預約完成！✓
━━━━━━━━━━━━━━━━
預約確認
━━━━━━━━━━━━━━━━
餐廳：美味軒
日期時間：[日期] [時間]
用餐人數：[N] 位
聯絡電話：[電話]
特殊需求：[需求]
確認碼：[4 位隨機數字]
━━━━━━━━━━━━━━━━

我們已發送確認簡訊到您的手機。
用餐當天請提前 10 分鐘抵達。
期待為您服務！」

━━━ 對話規則 ━━━

1. 每次只問一個問題
2. 用戶回答後立即確認理解
3. 語氣親切但專業
4. 如果用戶離題，溫和地引導回預約流程
5. 遇到不清楚的回答，禮貌地請求澄清
6. 絕對不要跳過任何必要步驟

━━━ 錯誤處理 ━━━

情況 A：用戶說「隨便」或「都可以」
→ 「為了給您最好的安排，能否告訴我大概的時間偏好呢？
   例如午餐或晚餐？週間或週末？」

情況 B：用戶突然說「算了，不訂了」
→ 「沒問題！如果之後有需要，隨時歡迎您回來。祝您有美好的一天！」

情況 C：用戶問營業時間或菜單
→ 「我們營業時間是週二到週日 11:30-14:00, 17:30-21:00。
   詳細菜單請參考我們的官網 [URL]。
   請問您要繼續預約嗎？」

現在開始，等待客人說話。</div>

    <div class="info-box">
      <div class="info-box-title">設計亮點解析</div>
      <div class="info-box-content">
        這個 System Prompt 的設計包含了：<br>
        <strong>1. 清晰的步驟流程</strong> — AI 知道每一步該做什麼<br>
        <strong>2. 具體的對話腳本</strong> — 不是「詢問人數」而是給出確切的問法<br>
        <strong>3. 詳細的規則</strong> — 什麼時候可預約、如何處理衝突<br>
        <strong>4. 錯誤處理腳本</strong> — 預想常見問題並提供應對方式<br>
        <strong>5. 格式化輸出</strong> — 確認單的視覺設計
      </div>
    </div>
  </section>

  <!-- 第四部分：實際對話範例 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">04</div>
      <h2 class="section-title">實際對話範例：從開始到完成</h2>
    </div>

    <div class="prose">
      讓我們看一個完整的對話範例，展示這個預約系統如何運作。
    </div>

    <div class="conversation-demo">
      <div class="conversation-header">
        <div class="conversation-title">順利預約情境</div>
        <div class="conversation-tag">標準流程</div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          您好！我是預約助理 Mia，很高興為您服務。請問您想預約幾位用餐呢？
        </div>
        <div class="message-annotation">
          ✓ 友好問候 + 直接進入第一個問題
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          4 個人
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          好的，4 位。請問您希望什麼時候用餐呢？
        </div>
        <div class="message-annotation">
          ✓ 確認理解 + 進入下一個問題
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          這週六晚上 7 點
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          很抱歉，週六 2/17 晚上 7:00 已經客滿了。您方便 7:30 或 8:00 嗎？
        </div>
        <div class="message-annotation">
          ✓ 立即回饋可用性 + 提供替代方案
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          那就 7:30 吧
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          太好了，2/17 週六晚上 7:30 有位置！請問您的聯絡電話是？
        </div>
        <div class="message-annotation">
          ✓ 確認新時間 + 收集聯絡方式
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          0912-345-678
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          收到，0912-345-678。請問有什麼特殊需求嗎？例如：兒童座椅、慶生需求、飲食限制等。如果沒有，直接說「沒有」即可。
        </div>
        <div class="message-annotation">
          ✓ 確認電話 + 詢問可選資訊
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          需要一個兒童座椅
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          好的，我們會準備兒童座椅。讓我確認一下預約資訊：<br>
          ━━━━━━━━━━<br>
          用餐人數：4 位<br>
          日期時間：2/17 週六 晚上 7:30<br>
          聯絡電話：0912-345-678<br>
          特殊需求：兒童座椅<br>
          ━━━━━━━━━━<br>
          以上資訊正確嗎？
        </div>
        <div class="message-annotation">
          ✓ 完整確認，等待最後核對
        </div>
      </div>

      <div class="message message-user">
        <div class="message-label">用戶</div>
        <div class="message-content">
          對的
        </div>
      </div>

      <div class="message message-ai">
        <div class="message-label">AI (Mia)</div>
        <div class="message-content">
          預約完成！✓<br>
          ━━━━━━━━━━━━━━━━<br>
          預約確認<br>
          ━━━━━━━━━━━━━━━━<br>
          餐廳：美味軒<br>
          日期時間：2/17 週六 19:30<br>
          用餐人數：4 位<br>
          聯絡電話：0912-345-678<br>
          特殊需求：兒童座椅<br>
          確認碼：A8F2<br>
          ━━━━━━━━━━━━━━━━<br>
          <br>
          我們已發送確認簡訊到您的手機。<br>
          用餐當天請提前 10 分鐘抵達。<br>
          期待為您服務！
        </div>
        <div class="message-annotation">
          ✓ 生成完整確認單 + 明確的下一步指示
        </div>
      </div>
    </div>

    <div class="prose">
      這個對話展示了一個「理想情境」— 用戶配合度高，每次都給清楚的答案。但實際上，用戶的回答常常不是這麼完美。讓我們看看如何處理各種複雜情況。
    </div>
  </section>

  <!-- 第五部分：處理複雜情境 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">05</div>
      <h2 class="section-title">處理複雜情境：真實世界不完美</h2>
    </div>

    <div class="prose">
      真實的對話中，用戶常常會：給模糊的答案、一次說太多資訊、突然離題、改變主意、或者根本不知道自己要什麼。好的對話設計要能優雅地處理這些情況。
    </div>

    <div class="technique-grid">
      <div class="technique-card">
        <div class="technique-title">情境 1：模糊回答</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「我想訂位」<br>
          （沒說人數、時間）
        </div>
        <div class="technique-example">
AI：「好的！請問您想預約幾位用餐呢？」

// 不是責怪用戶沒說清楚
// 而是自然地引導到第一個問題</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 2：一次給太多資訊</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「我要訂這週六晚上 7 點 4 個人，電話是 0912-345-678，要靠窗的位子」
        </div>
        <div class="technique-example">
AI：「好的！讓我確認：
週六 2/17 晚上 7:00，4 位
電話 0912-345-678
希望靠窗座位

讓我查看一下... [繼續流程]」

// 提取所有資訊，確認理解
// 然後繼續該走的流程</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 3：時間說得不清楚</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「明天晚上」<br>
          （沒說幾點）
        </div>
        <div class="technique-example">
AI：「好的，明天晚上。
請問大概幾點方便呢？
我們晚餐時段是 5:30-9:00」

// 確認已理解的部分
// 補問缺失的資訊
// 提供選擇範圍降低難度</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 4：突然改變主意</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「等等，我改成 6 個人」<br>
          （在收集到一半時改答案）
        </div>
        <div class="technique-example">
AI：「沒問題，我改成 6 位。
那時間還是週六晚上 7:30 嗎？」

// 立即更新資訊
// 確認其他資訊是否也要改</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 5：詢問營業資訊</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「你們週一有開嗎？」<br>
          （離題問問題）
        </div>
        <div class="technique-example">
AI：「我們週一公休喔，
週二到週日都有營業。

請問您想預約哪一天呢？」

// 回答問題
// 溫和地引導回主線</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 6：電話格式錯誤</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「912345678」<br>
          （少了 0）
        </div>
        <div class="technique-example">
AI：「抱歉，這個號碼格式好像不太對。
台灣手機號碼是 10 碼，
例如：0912-345-678
能麻煩您再確認一次嗎？」

// 溫和提醒而非責備
// 給出正確格式範例</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 7：想要已滿的時段</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「我就是要 7 點，其他時間都不行」
        </div>
        <div class="technique-example">
AI：「非常理解您的需求。
讓我看看能不能幫您候補...

您方便留下聯絡方式嗎？
如果有人取消，我們會立即通知您。」

// 表達同理心
// 提供替代解決方案
// 而非直接拒絕</div>
      </div>

      <div class="technique-card">
        <div class="technique-title">情境 8：猶豫不決</div>
        <div class="technique-desc">
          <strong>用戶：</strong>「嗯... 我再想想好了」
        </div>
        <div class="technique-example">
AI：「完全沒問題！
週六晚上的位子很熱門，
如果您決定了歡迎隨時回來預約。

需要我先保留目前的資訊嗎？」

// 不給壓力
// 提醒稀缺性（微妙推動）
// 提供保留選項</div>
      </div>
    </div>

    <div class="warning-box">
      <div class="warning-title">⚠️ 常見錯誤：過度僵化</div>
      <div class="warning-content">
        <strong>錯誤做法：</strong>AI 堅持「必須按順序回答問題」，用戶一次給很多資訊時，AI 說「請等等，我們先確認人數」。<br><br>
        <strong>正確做法：</strong>靈活調整。如果用戶已經給了資訊，就接受並確認，不要堅持「必須按我設計的順序」。<strong>流程是為用戶服務的，不是用戶為流程服務</strong>。
      </div>
    </div>
  </section>

  <!-- 第六部分：狀態機設計 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">06</div>
      <h2 class="section-title">狀態機思維：管理對話狀態</h2>
    </div>

    <div class="prose">
      要設計複雜的對話流程，需要理解<strong>狀態機（State Machine）</strong>的概念。狀態機定義了：系統在任何時刻處於什麼「狀態」，以及如何從一個狀態轉移到另一個狀態。
    </div>

    <div class="state-machine">
      <div class="state-machine-title">預約系統狀態機</div>
      
      <div class="states-grid">
        <div class="state-card">
          <div class="state-name">INIT</div>
          <div class="state-desc">初始狀態，尚未開始收集資訊</div>
        </div>
        <div class="state-card">
          <div class="state-name">COLLECTING_PARTY_SIZE</div>
          <div class="state-desc">正在詢問/等待人數</div>
        </div>
        <div class="state-card">
          <div class="state-name">COLLECTING_DATETIME</div>
          <div class="state-desc">正在詢問/等待日期時間</div>
        </div>
        <div class="state-card">
          <div class="state-name">CHECKING_AVAILABILITY</div>
          <div class="state-desc">檢查時段是否可用</div>
        </div>
        <div class="state-card">
          <div class="state-name">COLLECTING_CONTACT</div>
          <div class="state-desc">正在詢問/等待聯絡方式</div>
        </div>
        <div class="state-card">
          <div class="state-name">COLLECTING_REQUIREMENTS</div>
          <div class="state-desc">詢問特殊需求（可選）</div>
        </div>
        <div class="state-card">
          <div class="state-name">CONFIRMING</div>
          <div class="state-desc">等待用戶確認所有資訊</div>
        </div>
        <div class="state-card active">
          <div class="state-name">COMPLETED</div>
          <div class="state-desc">預約完成</div>
        </div>
        <div class="state-card">
          <div class="state-name">CANCELLED</div>
          <div class="state-desc">用戶取消預約</div>
        </div>
      </div>

      <div class="transitions">
        <div class="transition-label">狀態轉移規則</div>
        <div class="transition-item">INIT → COLLECTING_PARTY_SIZE (用戶開始預約)</div>
        <div class="transition-item">COLLECTING_PARTY_SIZE → COLLECTING_DATETIME (收到有效人數)</div>
        <div class="transition-item">COLLECTING_DATETIME → CHECKING_AVAILABILITY (收到完整日期時間)</div>
        <div class="transition-item">CHECKING_AVAILABILITY → COLLECTING_CONTACT (時段可用)</div>
        <div class="transition-item">CHECKING_AVAILABILITY → COLLECTING_DATETIME (時段不可用，重新選擇)</div>
        <div class="transition-item">COLLECTING_CONTACT → COLLECTING_REQUIREMENTS (收到有效聯絡方式)</div>
        <div class="transition-item">COLLECTING_REQUIREMENTS → CONFIRMING (收集完畢或用戶跳過)</div>
        <div class="transition-item">CONFIRMING → COMPLETED (用戶確認無誤)</div>
        <div class="transition-item">任何狀態 → CANCELLED (用戶說「取消」或「不訂了」)</div>
      </div>
    </div>

    <div class="code-block-header">在 Prompt 中實作狀態管理</div>
    <div class="code-block">你是預約助理，需要管理對話狀態。

【當前狀態追蹤】
在每次回應開始前，先內心確認：
- 目前處於什麼狀態？
- 已經收集了哪些資訊？
- 還缺少什麼？
- 下一步應該做什麼？

（這部分是給 AI 的「內心獨白」，不用說給用戶聽）

【狀態轉移邏輯】
當用戶回答後：
1. 驗證答案是否有效
2. 如果有效，更新對應的資料，進入下一狀態
3. 如果無效，停留在當前狀態，請求澄清
4. 如果用戶要修改之前的答案，回到對應狀態

【實例】
狀態：COLLECTING_DATETIME
已知：人數 = 4
缺少：日期、時間
用戶說：「明天中午」

AI 內心：
- 日期 ✓（明天 = 2/16）
- 時間 ✓（中午 = 12:00）
- 兩者都有，可以進入 CHECKING_AVAILABILITY

AI 回應：
「好的，明天 2/16 中午 12:00。
讓我查看一下是否有位置...」

[進入下一狀態]</div>

    <div class="highlight-box">
      <div class="highlight-title">為什麼需要狀態機思維？</div>
      <div class="prose">
        1. <strong>避免混亂</strong> — 明確知道對話進行到哪裡，不會重複問或漏問<br>
        2. <strong>處理中斷</strong> — 當用戶突然離題或修改答案，知道該回到哪個狀態<br>
        3. <strong>確保完整性</strong> — 系統性確保所有必要資訊都收集到了<br>
        4. <strong>便於debug</strong> — 出問題時容易定位是哪個狀態的邏輯有問題
      </div>
    </div>
  </section>

  <!-- 第七部分：進階技巧 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">07</div>
      <h2 class="section-title">進階技巧：提升對話體驗</h2>
    </div>

    <div class="prose">
      基本的流程設計確保「功能完整」，但要做到「體驗優秀」，需要一些進階技巧。
    </div>

    <div class="step-list">
      <div class="step-item">
        <div class="step-number">01</div>
        <div class="step-content">
          <strong>預測性引導</strong><br>
          不要等用戶問，主動提供常見需求的選項。<br><br>
          <em>範例：</em><br>
          一般做法：「請問幾點？」<br>
          進階做法：「請問幾點？我們晚餐熱門時段是 6:00、7:00、8:00，或者您有其他時間偏好嗎？」<br><br>
          <strong>好處：</strong>降低用戶思考負擔，加快對話速度
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">02</div>
        <div class="step-content">
          <strong>情境感知</strong><br>
          根據已知資訊調整問法和建議。<br><br>
          <em>範例：</em><br>
          如果用戶說要訂「10 位」→ AI 可以主動問「需要包廂嗎？」<br>
          如果訂「週五晚上」→ AI 可以提醒「週五是我們的現場音樂之夜」<br><br>
          <strong>好處：</strong>讓 AI 顯得聰明、貼心，不是機械式提問
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">03</div>
        <div class="step-content">
          <strong>進度提示</strong><br>
          讓用戶知道還要回答幾個問題，降低焦慮感。<br><br>
          <em>範例：</em><br>
          「太好了，我們已經確認了時間和人數，接下來只需要您的聯絡方式就完成了！」<br><br>
          <strong>好處：</strong>給用戶掌控感，知道「快結束了」
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">04</div>
        <div class="step-content">
          <strong>個性化語言</strong><br>
          根據用戶的語氣調整 AI 的回應風格。<br><br>
          <em>範例：</em><br>
          用戶很正式 →  AI 也保持正式<br>
          用戶很輕鬆口語 → AI 可以稍微輕鬆一點<br>
          用戶在趕時間（「快點」） → AI 簡化廢話，直接問重點<br><br>
          <strong>好處：</strong>對話更自然，用戶感覺「被理解」
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">05</div>
        <div class="step-content">
          <strong>錯誤恢復</strong><br>
          當流程卡住或出錯時，提供「重來」或「跳過」選項。<br><br>
          <em>範例：</em><br>
          「抱歉，我好像搞混了。讓我們重新開始，或者您也可以直接告訴我完整的預約資訊？」<br><br>
          <strong>好處：</strong>避免對話死鎖，給用戶逃生通道
        </div>
      </div>

      <div class="step-item">
        <div class="step-number">06</div>
        <div class="step-content">
          <strong>記憶與參考</strong><br>
          在對話中參考用戶之前說過的話。<br><br>
          <em>範例：</em><br>
          用戶之前說「想坐靠窗」→ 確認時 AI 說「您之前提到想坐靠窗，我們會盡量安排」<br><br>
          <strong>好處：</strong>讓用戶覺得被認真傾聽，而非被當成一連串問答題
        </div>
      </div>
    </div>

    <div class="code-block-header">整合進階技巧的 Prompt 範例</div>
    <div class="code-block">【進階技巧規則】

1. 預測性引導
   在詢問時間時，主動提供熱門時段選項
   在詢問人數時，如果 > 8 人，主動詢問是否需要包廂

2. 情境感知
   週末訂位 → 提醒可能較擁擠，建議提早到
   大型聚會 → 詢問是否有慶祝場合
   午餐時段 → 提及商業午餐優惠

3. 進度提示
   收集到一半時說：「太好了，只剩最後一個步驟了！」
   
4. 個性化語言
   觀察用戶語氣，微調回應正式度
   用戶趕時間 → 精簡回應

5. 錯誤恢復
   如果連續 2 次無法理解用戶 →
   「不好意思，我理解有困難。
   您可以用這個格式試試看：
   [人數] 位，[日期] [時間]
   例如：4 位，2/17 晚上 7:00」

6. 記憶與參考
   記住用戶提過的特殊需求
   確認時提及這些細節</div>
  </section>

  <!-- 第八部分：實作練習 -->
  <div class="practice-box">
    <div class="practice-label">今日 Side Project</div>
    <h2 class="practice-title">打造你的預約系統</h2>
    <div class="practice-desc">
      設計一個完整的預約機器人，可以應用於餐廳、美容院、健身房或任何你需要的預約場景。包含：預約流程、取消修改邏輯、確認訊息生成。
    </div>

    <div class="practice-desc">
      <strong>第一步：選擇應用場景</strong><br>
      選擇一個真實的預約場景：<br>
      • 餐廳訂位<br>
      • 美容美髮預約<br>
      • 醫療診所掛號<br>
      • 健身房課程預約<br>
      • 會議室預訂<br>
      • 其他任何需要預約的服務<br><br>

      <strong>第二步：定義必要資訊</strong><br>
      列出這個場景必須收集的資訊：<br>
      • 必要資訊（沒有就無法預約的）<br>
      • 可選資訊（有更好，沒有也ok的）<br>
      • 資訊收集的最佳順序是什麼？<br><br>

      <strong>第三步：設計對話流程</strong><br>
      畫出完整的狀態機圖：<br>
      • 有哪些狀態？<br>
      • 狀態之間如何轉移？<br>
      • 每個狀態該問什麼？該做什麼？<br><br>

      <strong>第四步：設計錯誤處理</strong><br>
      預想至少 10 種可能的問題情境：<br>
      • 用戶給模糊答案<br>
      • 用戶想要的時段沒有<br>
      • 用戶中途改變主意<br>
      • 用戶突然離題<br>
      • 格式錯誤<br>
      • 等等...<br><br>
      為每種情境設計應對腳本<br><br>

      <strong>第五步：撰寫完整 System Prompt</strong><br>
      包含：<br>
      • 角色設定（AI 的身份和個性）<br>
      • 完整流程（逐步說明）<br>
      • 對話規則<br>
      • 錯誤處理腳本<br>
      • 確認單格式<br><br>

      <strong>第六步：測試與優化</strong><br>
      用至少 10 種不同情境測試你的系統：<br>
      • 順利完成的標準流程<br>
      • 用戶不配合的情況<br>
      • 用戶改變主意<br>
      • 用戶給錯誤資訊<br>
      • 系統無法滿足需求<br><br>
      記錄哪些情況處理得好，哪些需要改進<br><br>

      <strong>完成標準：</strong><br>
      你的預約系統能在 80% 的測試情境中順利完成預約，並在剩餘 20% 的困難情境中優雅地處理問題（不崩潰、不失禮）。
    </div>

    <div class="practice-desc">
      <strong>加分挑戰：</strong><br>
      1. 加入「修改預約」和「取消預約」的流程<br>
      2. 設計「候補名單」機制（當時段已滿時）<br>
      3. 加入「推薦替代方案」（如果用戶要的時段沒有，主動推薦其他選項）<br>
      4. 設計多語言支援（中英文切換）
    </div>
  </div>

  <!-- 第九部分：擴展應用 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">08</div>
      <h2 class="section-title">擴展應用：其他對話流程場景</h2>
    </div>

    <div class="prose">
      預約系統只是對話流程設計的一個應用。同樣的技巧可以應用到各種需要<strong>收集結構化資訊</strong>的場景。
    </div>

    <div class="example-grid">
      <div class="example-card">
        <div class="example-header">應用 1：客戶需求調查</div>
        <div class="example-content">
          <strong>場景：</strong>軟體公司想了解客戶需求<br><br>
          <strong>流程設計：</strong><br>
          1. 確認客戶的產業和公司規模<br>
          2. 詢問目前使用的解決方案<br>
          3. 了解主要痛點（3-5 個）<br>
          4. 詢問預算範圍<br>
          5. 確認決策時間表<br>
          6. 收集聯絡方式以便跟進<br><br>
          <strong>關鍵：</strong>問題要循序漸進，從簡單到敏感（預算）
        </div>
      </div>

      <div class="example-card">
        <div class="example-header">應用 2：症狀評估系統</div>
        <div class="example-content">
          <strong>場景：</strong>線上醫療諮詢的初步症狀收集<br><br>
          <strong>流程設計：</strong><br>
          1. 確認主要症狀<br>
          2. 詢問持續時間<br>
          3. 詢問嚴重程度（1-10 分）<br>
          4. 確認有無其他症狀<br>
          5. 詢問過往病史<br>
          6. 判斷緊急程度，給予建議<br><br>
          <strong>關鍵：</strong>必須設定明確的轉介機制（緊急情況立即建議就醫）
        </div>
      </div>

      <div class="example-card">
        <div class="example-header">應用 3：旅遊規劃助手</div>
        <div class="example-content">
          <strong>場景：</strong>幫用戶規劃旅遊行程<br><br>
          <strong>流程設計：</strong><br>
          1. 確認目的地和旅遊天數<br>
          2. 詢問旅伴類型（獨旅/情侶/家庭/朋友）<br>
          3. 了解興趣偏好（文化/自然/美食/購物）<br>
          4. 確認預算範圍<br>
          5. 詢問體力程度和特殊需求<br>
          6. 生成客製化行程建議<br><br>
          <strong>關鍵：</strong>要能根據不同偏好組合生成差異化建議
        </div>
      </div>

      <div class="example-card">
        <div class="example-header">應用 4：報名表單對話化</div>
        <div class="example-content">
          <strong>場景：</strong>課程或活動報名<br><br>
          <strong>流程設計：</strong><br>
          1. 確認要報名的課程/活動<br>
          2. 收集基本資料（姓名、email、電話）<br>
          3. 詢問如何得知此活動<br>
          4. 確認飲食限制或特殊需求<br>
          5. 詢問緊急聯絡人<br>
          6. 確認並生成報名確認單<br><br>
          <strong>關鍵：</strong>把無聊的表單變成友善的對話，提高完成率
        </div>
      </div>

      <div class="example-card">
        <div class="example-header">應用 5：問題排查引導</div>
        <div class="example-content">
          <strong>場景：</strong>技術支援的初步診斷<br><br>
          <strong>流程設計：</strong><br>
          1. 確認遇到的問題類型<br>
          2. 詢問問題發生頻率<br>
          3. 確認已嘗試過的解決方法<br>
          4. 收集系統環境資訊<br>
          5. 根據症狀提供可能的解決方案<br>
          6. 如無法解決，收集詳細資訊轉給工程師<br><br>
          <strong>關鍵：</strong>要有清晰的決策樹，能根據回答導向不同路徑
        </div>
      </div>
    </div>

    <div class="info-box">
      <div class="info-box-title">共通模式識別</div>
      <div class="info-box-content">
        所有這些場景都有共同點：<br>
        1. <strong>有明確目標</strong> — 完成預約/收集資訊/做出診斷<br>
        2. <strong>需要多輪對話</strong> — 無法一次問完<br>
        3. <strong>資訊有依賴關係</strong> — 後面的問題取決於前面的答案<br>
        4. <strong>需要驗證</strong> — 確保收集到的資訊有效<br>
        5. <strong>要有確認機制</strong> — 最後讓用戶檢視所有資訊<br><br>
        掌握了預約系統的設計方法，你就能舉一反三應用到任何類似場景。
      </div>
    </div>
  </section>

  <!-- 第十部分：總結 -->
  <section class="section">
    <div class="section-header">
      <div class="section-number">09</div>
      <h2 class="section-title">今日重點總結</h2>
    </div>

    <div class="highlight-box">
      <div class="highlight-title">🎯 核心概念</div>
      <div class="prose">
        <strong>對話流程設計是把複雜任務拆解成一系列簡單步驟，然後用自然對話引導用戶完成。</strong>關鍵在於：狀態管理、資訊收集順序、錯誤處理、確認機制、完成回饋。好的流程設計不僅功能完整，更要體驗流暢自然。
      </div>
    </div>

    <div class="checklist">
      <div class="checklist-item">
        <strong>五大核心要素：</strong>狀態管理、資訊收集順序、錯誤處理、確認機制、完成回饋
      </div>
      <div class="checklist-item">
        <strong>狀態機思維：</strong>明確定義每個狀態和轉移條件，避免對話混亂
      </div>
      <div class="checklist-item">
        <strong>每次只問一個問題：</strong>降低用戶認知負擔，提高回答品質
      </div>
      <div class="checklist-item">
        <strong>靈活處理複雜情境：</strong>用戶不會完美配合，要能優雅處理各種意外
      </div>
      <div class="checklist-item">
        <strong>進階技巧：</strong>預測性引導、情境感知、進度提示、個性化語言、錯誤恢復、記憶參考
      </div>
      <div class="checklist-item">
        <strong>可擴展性：</strong>同樣技巧適用於任何需要收集結構化資訊的場景
      </div>
    </checklist>

    <div class="code-block-header">快速參考：對話流程設計檢查清單</div>
    <div class="code-block">設計對話流程前，確認：

□ 明確定義任務目標
□ 列出所有需要收集的資訊
□ 區分必要資訊 vs 可選資訊
□ 決定資訊收集的順序
□ 設計每個步驟的問法
□ 預想至少 10 種錯誤情境
□ 為每種錯誤設計應對腳本
□ 設計確認機制
□ 設計完成回饋
□ 測試至少 10 種不同情境

進階檢查：

□ 是否有預測性引導？
□ 是否考慮了情境感知？
□ 是否給用戶進度提示？
□ 是否能根據用戶語氣調整？
□ 是否有錯誤恢復機制？
□ 是否記住並參考之前的對話？</div>

    <div class="quote-box">
      <div class="quote-text">
        "最好的對話設計，是讓用戶感覺不到『設計』的存在 — 一切都自然流暢，就像和真人對話一樣。"
      </div>
      <div class="quote-author">
        對話設計的最高境界
      </div>
    </div>
  </section>

  <!-- 導航 -->
  <nav class="lesson-nav">
    <a href="day5.html" class="nav-link">
      <span class="nav-label">← 上一課</span>
      <span class="nav-title">Day 05: Few-shot 風格學習</span>
    </a>
    <a href="day7.html" class="nav-link" style="text-align: right;">
      <span class="nav-label">下一課 →</span>
      <span class="nav-title">Day 07: 智慧 Email 與商業文件</span>
    </a>
  </nav>

</main>

<footer class="footer">
  <div class="footer-text">
    Prompt Mastery — 20-Day Intensive Course — 2026
  </div>
</footer>

</body>
</html>